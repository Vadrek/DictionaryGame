(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{4983:function(e,t,n){Promise.resolve().then(n.bind(n,2594))},2594:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var a=n(7437),i=n(1192),s=n.n(i),r=n(2265),c=n(8624),l=n(4036);function o(){let[e,t]=(0,r.useState)(!0),[n,i]=(0,r.useState)("John"),[o,h]=(0,r.useState)(!1),[d,u]=(0,r.useState)("11"),_=(0,l.h)(),m=()=>{""!==n&&""!==d?(console.log(n,"userName",d,"roomId"),_.emit("join_room",d),h(!0),setTimeout(()=>{t(!0),h(!1)},4e3)):alert("Please fill in Username and Room Id")};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:s().main_div,style:{display:e?"none":""},children:[(0,a.jsx)("input",{className:s().main_input,type:"text",placeholder:"Username2",onChange:e=>i(e.target.value),disabled:o}),(0,a.jsx)("input",{className:s().main_input,type:"text",placeholder:"room id",onChange:e=>u(e.target.value),disabled:o}),(0,a.jsx)("button",{className:s().main_button,onClick:()=>m(),children:o?(0,a.jsx)("div",{className:s().loading_spinner}):"Join"})]}),(0,a.jsx)("div",{style:{display:e?"":"none"},children:(0,a.jsx)(c.J,{socket:_,roomId:d,username:n})})]})}},8624:function(e,t,n){"use strict";n.d(t,{J:function(){return c}});var a=n(7437),i=n(2265),s=n(8210),r=n.n(s);let c=e=>{let{socket:t,username:n,roomId:s}=e,[c,l]=(0,i.useState)(""),[o,h]=(0,i.useState)([]),d=async e=>{if(e.preventDefault(),""!==c){let e={roomId:s,user:n,msg:c,time:new Date(Date.now()).getHours()+":"+new Date(Date.now()).getMinutes()};await t.emit("send_msg",e),l("")}};return(0,i.useEffect)(()=>{t.on("receive_msg",e=>{h(t=>[...t,e])})},[t]),(0,a.jsx)("div",{className:r().chat_div,children:(0,a.jsxs)("div",{className:r().chat_border,children:[(0,a.jsx)("div",{style:{marginBottom:"1rem"},children:(0,a.jsxs)("p",{children:["Name: ",(0,a.jsx)("b",{children:n})," and Room Id: ",(0,a.jsx)("b",{children:s})]})}),(0,a.jsx)("div",{children:o.map((e,t)=>{let{roomId:i,user:s,msg:c,time:l}=e;return(0,a.jsxs)("div",{className:s==n?r().chatProfileRight:r().chatProfileLeft,children:[(0,a.jsx)("span",{className:r().chatProfileSpan,style:{textAlign:s==n?"right":"left"},children:s.charAt(0)}),(0,a.jsx)("h3",{style:{textAlign:s==n?"right":"left"},children:c})]},t)})}),(0,a.jsx)("div",{children:(0,a.jsxs)("form",{onSubmit:e=>d(e),children:[(0,a.jsx)("input",{className:r().chat_input,type:"text",value:c,placeholder:"Type your message..",onChange:e=>l(e.target.value)}),(0,a.jsx)("button",{className:r().chat_button,children:"Send"})]})})]})})}},4036:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var a=n(3388),i=n(2601);let s=null,r=()=>{if(!s){let e=i.env.NEXT_PUBLIC_API_URL||"http://localhost:9000";s=(0,a.io)(e)}return s}},1192:function(e){e.exports={main_div:"page_main_div__6wXXj",definitionText:"page_definitionText__cPHj3",formItem:"page_formItem__pJzbL",definitionResult:"page_definitionResult__PDQbU"}},8210:function(e){e.exports={chat_div:"chat_chat_div__Zu1c0",chat_border:"chat_chat_border__S7_8O",chat_input:"chat_chat_input__DIK9G",chat_button:"chat_chat_button__rmRsE",chatProfileRight:"chat_chatProfileRight__HXjNE",chatProfileLeft:"chat_chatProfileLeft__hzxG5",chatProfileSpan:"chat_chatProfileSpan__d5ECm"}}},function(e){e.O(0,[927,971,596,744],function(){return e(e.s=4983)}),_N_E=e.O()}]);